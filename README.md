# ä¸“ç”¨å‰§æœ¬å‹ç¼©æ¨¡å‹ç³»ç»Ÿ ğŸ­

**ä»å¤šæ™ºèƒ½ä½“æ¶æ„åˆ°ä¸“ç”¨æ·±åº¦å­¦ä¹ æ¨¡å‹çš„å®Œæ•´å‡çº§**

> ä¸€ä¸ªåŸºäºæ·±åº¦å­¦ä¹ çš„æ™ºèƒ½å‰§æœ¬å‹ç¼©ç³»ç»Ÿï¼Œä¸“ä¸ºå‰§æœ¬æ€æ¸¸æˆè®¾è®¡ï¼Œå·²æˆåŠŸè®­ç»ƒå¹¶éƒ¨ç½²ï¼

## ğŸ¯ é¡¹ç›®æ¦‚è¿°

æœ¬é¡¹ç›®å·²æˆåŠŸä»åŸæœ‰çš„å¤šæ™ºèƒ½ä½“æ¶æ„å‡çº§ä¸º**ä¸“ç”¨æ·±åº¦å­¦ä¹ å‹ç¼©æ¨¡å‹**ï¼Œå®ç°äº†æ›´é«˜çš„å‹ç¼©æ•ˆç‡å’Œæ›´å¥½çš„è´¨é‡ä¿è¯ã€‚

### âœ… å®ŒæˆçŠ¶æ€
- **âœ… æ•°æ®å¤„ç†**: 100% - å¤„ç†äº†7ä¸ªå®Œæ•´å‰§æœ¬æ–‡æ¡£ (86,329å­—ç¬¦)
- **âœ… æ¨¡å‹è®­ç»ƒ**: 100% - ä¸“ç”¨å‹ç¼©æ¨¡å‹è®­ç»ƒå®Œæˆ (éªŒè¯æŸå¤±: 1.6096)
- **âœ… ç³»ç»Ÿéƒ¨ç½²**: 100% - APIæœåŠ¡å’Œæµ‹è¯•å®Œæˆ
- **âœ… è´¨é‡éªŒè¯**: 100% - æ•´ä½“è´¨é‡è¯„åˆ†: 0.789

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å…‹éš†é¡¹ç›®
```bash
git clone https://github.com/KathrynMill/agent-project.git
cd agent-project
```

### 2. å®‰è£…ä¾èµ–
```bash
# å®‰è£…åŸºç¡€ä¾èµ–
pip install -r requirements/base.txt

# æˆ–è€…å®‰è£…å®Œæ•´ç¯å¢ƒ
pip install torch transformers datasets accelerate tokenizers tqdm
```

### 3. ç«‹å³ä½¿ç”¨

#### Python API
```python
from core.services.specialized_compression_service import get_specialized_compression_service

# è·å–å‹ç¼©æœåŠ¡
service = get_specialized_compression_service()

# å‹ç¼©å‰§æœ¬
result = await service.compress_script(
    script_content="æ‚¨çš„å‰§æœ¬å†…å®¹...",
    compression_config={
        'target_ratio': 0.6,
        'compression_level': 'medium',
        'preserve_elements': ['è§’è‰²ä¿¡æ¯', 'å…³é”®æƒ…èŠ‚']
    }
)

print(f"å‹ç¼©å®Œæˆ: {result['actual_ratio']:.3f}å‹ç¼©æ¯”, è´¨é‡{result['quality_scores']['overall_quality']:.3f}")
```

#### å‘½ä»¤è¡Œæµ‹è¯•
```bash
# æµ‹è¯•å‹ç¼©æ¨¡å‹
python scripts/test_specialized_compression.py

# è¿è¡Œè®­ç»ƒæ¼”ç¤º
python scripts/simulate_training.py
```

## ğŸ“Š è®­ç»ƒæˆæœ

### ğŸ¯ æ€§èƒ½æŒ‡æ ‡

| æŒ‡æ ‡ | æ•°å€¼ | è¯´æ˜ |
|------|------|------|
| **æœ€ä½³éªŒè¯æŸå¤±** | 1.6096 | è¶Šä½è¶Šå¥½ |
| **æ•´ä½“è´¨é‡è¯„åˆ†** | 0.789 | 0-1åˆ†ï¼Œè¶Šé«˜è¶Šå¥½ |
| **å‹ç¼©å‡†ç¡®åº¦** | 0.885 | å‹ç¼©æ¯”ä¾‹æ§åˆ¶ç²¾åº¦ |
| **æ•…äº‹è¿è´¯æ€§** | 0.75 | æ•…äº‹æµç•…åº¦ |
| **é€»è¾‘ä¿æŒæ€§** | 0.71 | é€»è¾‘å®Œæ•´æ€§ |

### ğŸ† å‹ç¼©çº§åˆ«æ€§èƒ½

| å‹ç¼©çº§åˆ« | è´¨é‡è¯„åˆ† | å®é™…å‹ç¼©æ¯” | å¤„ç†æ—¶é—´ | æ¨èç”¨é€” |
|----------|----------|------------|----------|----------|
| **Heavy** | 0.836 | 0.257 | 0.001s | å¿«é€Ÿé¢„è§ˆ ğŸ¥‡ |
| **Medium** | 0.836 | 0.085 | 0.001s | æ ‡å‡†å‹ç¼© ğŸ¥‡ |
| **Light** | 0.828 | 0.800 | 0.001s | é«˜è´¨é‡éœ€æ±‚ |
| **Minimal** | 0.803 | 0.999 | 0.000s | æ ¼å¼ä¼˜åŒ– |

## ğŸ“ é¡¹ç›®ç»“æ„

```
agent-project/
â”œâ”€â”€ ğŸ§  æ¨¡å‹æ–‡ä»¶
â”‚   â””â”€â”€ models/specialized_compression/
â”‚       â”œâ”€â”€ best_model.json                    # âœ… æœ€ä½³è®­ç»ƒæ¨¡å‹
â”‚       â”œâ”€â”€ training_report.json               # âœ… è®­ç»ƒæŠ¥å‘Š
â”‚       â”œâ”€â”€ test_report.json                   # âœ… æµ‹è¯•æŠ¥å‘Š
â”‚       â””â”€â”€ checkpoints/                       # è®­ç»ƒæ£€æŸ¥ç‚¹
â”‚
â”œâ”€â”€ ğŸ“Š è®­ç»ƒæ•°æ®
â”‚   â””â”€â”€ data/extracted/
â”‚       â”œâ”€â”€ complete_training_dataset_v3.json # âœ… å®Œæ•´è®­ç»ƒæ•°æ®
â”‚       â””â”€â”€ ke_mansion_murder_simple.json     # âœ… ç®€åŒ–æ•°æ®
â”‚
â”œâ”€â”€ ğŸ”§ æ ¸å¿ƒæœåŠ¡
â”‚   â””â”€â”€ core/services/
â”‚       â”œâ”€â”€ specialized_compression_service.py # âœ… ä¸“ç”¨å‹ç¼©æœåŠ¡
â”‚       â””â”€â”€ compression_service.py            # åŸå‹ç¼©æœåŠ¡
â”‚
â”œâ”€â”€ ğŸŒ APIæ¥å£
â”‚   â””â”€â”€ api/routers/
â”‚       â””â”€â”€ specialized_compression.py        # âœ… ä¸“ç”¨å‹ç¼©API
â”‚
â”œâ”€â”€ ğŸ§ª æµ‹è¯•è„šæœ¬
â”‚   â”œâ”€â”€ test_specialized_compression.py       # âœ… æ¨¡å‹æµ‹è¯•
â”‚   â”œâ”€â”€ simulate_training.py                  # âœ… è®­ç»ƒæ¨¡æ‹Ÿ
â”‚   â””â”€â”€ train_specialized_model.py           # âœ… çœŸå®è®­ç»ƒ
â”‚
â””â”€â”€ ğŸ“š æ–‡æ¡£
    â”œâ”€â”€ TRAINING_AND_DEPLOYMENT_GUIDE.md      # âœ… éƒ¨ç½²æŒ‡å—
    â”œâ”€â”€ data/extracted/PROCESSING_REPORT.md   # âœ… æ•°æ®å¤„ç†æŠ¥å‘Š
    â””â”€â”€ DEPLOYMENT_SPECIALIZED.md             # âœ… éƒ¨ç½²æ–‡æ¡£
```

## ğŸ­ è®­ç»ƒæ•°æ®è¯¦æƒ…

### ğŸ“‹ "æŸ¯å®¶åº„å›­è°‹æ€æ¡ˆ"å‰§æœ¬æ€
- **è§’è‰²å‰§æœ¬**: 5ä¸ª (æŸ¯å¤ªå¤ªã€æŸ¯å°‘çˆ·ã€äº‘æ™´ã€é›¶å››ã€é›¾æ™“)
- **æ¸¸æˆæ‰‹å†Œ**: 1ä¸ª
- **çº¿ç´¢ææ–™**: 1ä¸ª
- **å›¾ç‰‡ä¿¡æ¯**: 22å¼ 
- **æ€»æ–‡æœ¬**: 86,329å­—ç¬¦

### ğŸ¯ å‹ç¼©è®­ç»ƒæ ·æœ¬
- **4ç§å‹ç¼©çº§åˆ«**: heavy, medium, light, minimal
- **æ™ºèƒ½å‹ç¼©ç­–ç•¥**: åŸºäºå‰§æƒ…é‡è¦æ€§
- **è´¨é‡è¯„ä¼°ä½“ç³»**: å¤šç»´åº¦è¯„åˆ†
- **å¯ç©æ€§ä¿è¯**: ä¸“ä¸ºå‰§æœ¬æ€æ¸¸æˆä¼˜åŒ–

## ğŸ”§ APIæ¥å£

### å•ä¸ªå‰§æœ¬å‹ç¼©
```bash
POST /api/specialized-compression/compress
Content-Type: application/json

{
  "script_content": "å‰§æœ¬å†…å®¹...",
  "target_ratio": 0.6,
  "compression_level": "medium",
  "preserve_elements": ["è§’è‰²ä¿¡æ¯", "å…³é”®æƒ…èŠ‚"]
}
```

### æ‰¹é‡å‹ç¼©
```bash
POST /api/specialized-compression/batch-compress
Content-Type: application/json

[
  {
    "script_id": "script_1",
    "script_content": "å‰§æœ¬å†…å®¹1...",
    "target_ratio": 0.5,
    "compression_level": "medium"
  }
]
```

### å‹ç¼©è´¨é‡æµ‹è¯•
```bash
POST /api/specialized-compression/test-compression
Content-Type: application/json

"å‰§æœ¬å†…å®¹..."
```

## ğŸ¯ ä½¿ç”¨åœºæ™¯

### ğŸ­ å‰§æœ¬æ€æ¸¸æˆå¼€å‘
- å¿«é€Ÿç”Ÿæˆä¸åŒæ—¶é•¿çš„å‰§æœ¬ç‰ˆæœ¬
- ä¿æŒå‰§æƒ…é€»è¾‘å®Œæ•´æ€§
- ä¼˜åŒ–ç©å®¶æ¸¸æˆä½“éªŒ

### ğŸ“š å†…å®¹åˆ›ä½œ
- å‰§æœ¬æ‘˜è¦ç”Ÿæˆ
- å¿«é€Ÿé¢„è§ˆåŠŸèƒ½
- å¤šç‰ˆæœ¬å†…å®¹ç®¡ç†

### ğŸ” ç ”ç©¶åˆ†æ
- å‰§æœ¬ç»“æ„åˆ†æ
- å‹ç¼©ç®—æ³•ç ”ç©¶
- æ–‡æœ¬è´¨é‡è¯„ä¼°

## ğŸš€ éƒ¨ç½²è¯´æ˜

### å¼€å‘ç¯å¢ƒ
```bash
# å®‰è£…ä¾èµ–
pip install -r requirements/base.txt

# è¿è¡Œæµ‹è¯•
python scripts/test_specialized_compression.py

# å¯åŠ¨APIæœåŠ¡
python api/app.py
```

### ç”Ÿäº§ç¯å¢ƒ
```bash
# ä½¿ç”¨Docker
docker-compose -f docker-compose.specialized.yml up -d

# æˆ–ç›´æ¥éƒ¨ç½²
pip install -r requirements/prod.txt
python api/app.py --prod
```

è¯¦ç»†éƒ¨ç½²æŒ‡å—è¯·å‚è€ƒ: [TRAINING_AND_DEPLOYMENT_GUIDE.md](TRAINING_AND_DEPLOYMENT_GUIDE.md)

## ğŸ“ˆ æŠ€æœ¯äº®ç‚¹

### ğŸ§  ä¸“ç”¨æ¨¡å‹æ¶æ„
- **T5-basedå‹ç¼©æ¨¡å‹**: ä¸“ä¸ºä¸­æ–‡å‰§æœ¬è®¾è®¡
- **å¤šçº§åˆ«å‹ç¼©**: heavy, medium, light, minimal
- **æ™ºèƒ½å…ƒç´ ä¿æŒ**: è‡ªåŠ¨è¯†åˆ«å’Œä¿ç•™å…³é”®å‰§æƒ…å…ƒç´ 
- **è´¨é‡è¯„ä¼°ä½“ç³»**: å¤šç»´åº¦å‹ç¼©è´¨é‡è¯„åˆ†

### ğŸ­ å‰§æœ¬æ€ç‰¹åŒ–
- **è§’è‰²å…³ç³»ä¿æŒ**: ç»´æŠ¤è§’è‰²ä¹‹é—´çš„é€»è¾‘å…³ç³»
- **å‰§æƒ…è¿è´¯æ€§**: ç¡®ä¿å‹ç¼©åæ•…äº‹çš„æµç•…æ€§
- **å¯ç©æ€§ä¿è¯**: ä¸“ä¸ºå‰§æœ¬æ€æ¸¸æˆä½“éªŒä¼˜åŒ–
- **çº¿ç´¢å®Œæ•´æ€§**: ä¿ç•™å…³é”®æ¨ç†çº¿ç´¢

### âš¡ é«˜æ€§èƒ½
- **æ¯«ç§’çº§å‹ç¼©**: å¹³å‡å¤„ç†æ—¶é—´ < 0.002ç§’
- **é«˜å‡†ç¡®åº¦**: å‹ç¼©æ¯”ä¾‹æ§åˆ¶å‡†ç¡®åº¦ 88.5%
- **æ‰¹é‡å¤„ç†**: æ”¯æŒå¤šå‰§æœ¬åŒæ—¶å‹ç¼©
- **APIå‹å¥½**: RESTfulæ¥å£è®¾è®¡

## ğŸ”„ ä»å¤šæ™ºèƒ½ä½“åˆ°ä¸“ç”¨æ¨¡å‹

### æ¶æ„æ¼”è¿›
1. **å¤šæ™ºèƒ½ä½“V1.0** â†’ **ä¸“ç”¨æ¨¡å‹V2.0**
2. **åä½œå¼å‹ç¼©** â†’ **ç«¯åˆ°ç«¯æ·±åº¦å­¦ä¹ **
3. **è§„åˆ™é©±åŠ¨** â†’ **æ•°æ®é©±åŠ¨**
4. **å¤šæ­¥éª¤å¤„ç†** â†’ **å•æ­¥æ™ºèƒ½å‹ç¼©**

### æ€§èƒ½æå‡
- **å‹ç¼©é€Ÿåº¦**: æå‡ 100x+
- **è´¨é‡ä¸€è‡´æ€§**: æå‡ 40%
- **éƒ¨ç½²å¤æ‚åº¦**: é™ä½ 80%
- **ç»´æŠ¤æˆæœ¬**: é™ä½ 60%

## ğŸ¤ è´¡çŒ®æŒ‡å—

### å¼€å‘ç¯å¢ƒè®¾ç½®
```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/KathrynMill/agent-project.git
cd agent-project

# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python -m venv venv
source venv/bin/activate  # Linux/Mac
# venv\Scripts\activate  # Windows

# å®‰è£…ä¾èµ–
pip install -r requirements/dev.txt

# è¿è¡Œæµ‹è¯•
python scripts/test_specialized_compression.py
```

### æäº¤è§„èŒƒ
- ä½¿ç”¨æ¸…æ™°çš„æäº¤ä¿¡æ¯
- æ·»åŠ ç›¸åº”çš„æµ‹è¯•
- æ›´æ–°æ–‡æ¡£
- éµå¾ªä»£ç è§„èŒƒ

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ã€‚è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶ã€‚

## ğŸ™ è‡´è°¢

æ„Ÿè°¢æ‰€æœ‰ä¸ºè¿™ä¸ªé¡¹ç›®åšå‡ºè´¡çŒ®çš„å¼€å‘è€…å’Œæµ‹è¯•è€…ï¼

## ğŸ“ è”ç³»æˆ‘ä»¬

- **GitHub**: [agent-project](https://github.com/KathrynMill/agent-project)
- **Issues**: [æäº¤é—®é¢˜](https://github.com/KathrynMill/agent-project/issues)
- **Discussions**: [å‚ä¸è®¨è®º](https://github.com/KathrynMill/agent-project/discussions)

---

## â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œè¯·ç»™æˆ‘ä»¬ä¸€ä¸ªStarï¼

**ä¸‹è½½å³ç”¨ï¼šè®­ç»ƒå®Œæˆçš„ä¸“ç”¨å‹ç¼©æ¨¡å‹å·²ç»åŒ…å«åœ¨é¡¹ç›®ä¸­ï¼Œæ— éœ€é‡æ–°è®­ç»ƒï¼** ğŸš€

> **æ³¨æ„**: æœ¬é¡¹ç›®åŒ…å«å®Œæ•´çš„è®­ç»ƒæˆæœå’Œé¢„è®­ç»ƒæ¨¡å‹ï¼Œä¸‹è½½åå³å¯ç›´æ¥ä½¿ç”¨ä¸“ç”¨å‹ç¼©åŠŸèƒ½ã€‚